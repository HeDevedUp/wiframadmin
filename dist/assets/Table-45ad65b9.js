import{r as h,R as m,p as u,a as t,F as P,j as i,D as S,Z as j,c as v,S as z,M as L,m as C,b as M,d as F,e as b,E as g,u as R}from"./index-8f7dedf1.js";function N(){return N=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function T(e,a){if(e==null)return{};var n=$(e,a),r,l;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)r=s[l],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $(e,a){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}var w=h.forwardRef(function(e,a){var n=e.color,r=n===void 0?"currentColor":n,l=e.size,s=l===void 0?24:l,o=T(e,["color","size"]);return m.createElement("svg",N({ref:a,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),m.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),m.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});w.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};w.displayName="Edit";const D=w;function x(){return x=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function A(e,a){if(e==null)return{};var n=U(e,a),r,l;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)r=s[l],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function U(e,a){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}var k=h.forwardRef(function(e,a){var n=e.color,r=n===void 0?"currentColor":n,l=e.size,s=l===void 0?24:l,o=A(e,["color","size"]);return m.createElement("svg",x({ref:a,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),m.createElement("circle",{cx:"12",cy:"12",r:"1"}),m.createElement("circle",{cx:"12",cy:"5",r:"1"}),m.createElement("circle",{cx:"12",cy:"19",r:"1"}))});k.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};k.displayName="MoreVertical";const _=k;function y(){return y=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function I(e,a){if(e==null)return{};var n=W(e,a),r,l;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(l=0;l<s.length;l++)r=s[l],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function W(e,a){if(e==null)return{};var n={},r=Object.keys(e),l,s;for(s=0;s<r.length;s++)l=r[s],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}var O=h.forwardRef(function(e,a){var n=e.color,r=n===void 0?"currentColor":n,l=e.size,s=l===void 0?24:l,o=I(e,["color","size"]);return m.createElement("svg",y({ref:a,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),m.createElement("polyline",{points:"3 6 5 6 21 6"}),m.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});O.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};O.displayName="Trash2";const q=O,B=({header:e,footer:a,headers:n,handleCheckbox:r})=>{const l=h.useRef();return t(P,{children:e&&!a&&t("thead",{children:i("tr",{children:[t("th",{children:t("label",{children:t("input",{ref:l,type:"checkbox",className:"checkbox",onChange:s=>r(l)})})}),n.map((s,o)=>t("th",{children:s},o)),t("th",{})]})})||a&&!e&&t("tfoot",{children:i("tr",{children:[t("th",{}),n.map((s,o)=>t("th",{children:s},o)),t("th",{})]})})})};const V=({element:e,onEditClick:a,onDeleteClick:n})=>i(S,{element:e,children:[t(j.Item,{children:({active:r})=>t("a",{className:v(r?"bg-accent":"text-primary-t","block px-4 py-2 text-sm cursor-pointer"),onClick:()=>a(),children:"Edit"})}),t(j.Item,{children:({active:r})=>t("a",{className:v(r?"bg-accent":"text-primary-t","block px-4 py-2 text-sm cursor-pointer"),onClick:()=>n(),children:"Delete"})})]}),Z=({onSearch:e,placeholder:a})=>{const n=h.useRef(),[r,l]=h.useState(!1);return i("div",{className:"relative w-96 duration-200",children:[t("div",{className:v("absolute py-3 px-4 text-darker-t duration-200 rounded-md",r&&"!text-primary-t"),children:t(z,{})}),t("input",{type:"text",placeholder:a,className:v("p-3 pr-0 pl-14 rounded-md outline-none hover:bg-secondary/50 focus:bg-secondary duration-200"),ref:n,onInput:()=>{e(n.current.value.toLowerCase())},onBlur:()=>{l(!1)},onFocus:()=>{l(!0)}})]})},G=({element:e,marketdata:a,onDelete:n,openNow:r,onClose:l})=>{const s=()=>{n(user),l()};return i(L,{element:e,openNow:r,onClose:()=>l(),children:[i(C.Title,{as:"h3",className:"text-lg font-bold leading-6 text-red-400 flex items-center",children:[t(q,{size:22,className:"mr-2"})," Deleting Market Data ",a.cropName]}),i("div",{className:"mt-2",children:[i("p",{className:"text-sm text-darker-t",children:["The item ",a.cropName," will be permanently deleted."]}),t("p",{className:"text-sm text-darker-t",children:"Are you sure you want to continue?"})]}),t("div",{className:"mt-4",children:t("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-lighter/80 px-4 py-2 text-sm font-medium text-red-400 hover:bg-lighter focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:()=>s(),children:"Got it, delete!"})})]})},H=({element:e,marketdata:a,onEdit:n,openNow:r,onClose:l})=>{const s=()=>{n(user),l()};return i(L,{element:e,openNow:r,onClose:()=>l(),children:[i(C.Title,{as:"h3",className:"text-lg font-bold leading-6 text-cyan-400 flex items-center",children:[t(D,{size:22,className:"mr-2"})," Editing Marketdata ",a.cropName]}),i("div",{className:"mt-2",children:[t("p",{className:"text-sm text-darker-t"}),t("p",{className:"text-sm text-darker-t",children:"Are you sure you want to continue?"})]}),t(M,{initialValues:{email:"",phoneNumber:"",userFirstName:"",userLastName:"",userName:""},validate:o=>{const d={};return o.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(o.email)||(d.email="Invalid email address"):d.email="Required",o.userFirstName||(d.userFirstName="Required"),o.userLastName||(d.userLastName="Required"),o.userName||(d.userName="Required"),o.phoneNumber||(d.phoneNumber="Required"),d},onSubmit:()=>console.log("submitted"),children:({isSubmitting:o})=>i(F,{action:"",className:"mt-6 mb-0  w-full space-y-4 rounded-lg p-8 shadow-2xl",children:[i("div",{className:"   grid lg:grid-rows-1  md:grid-cols-2 grid-cols-1 lg:gap-y-[5em] gap-y-[2em] gap-x-5 pb-[1em] ",children:[i("div",{className:"relative mt-1",children:[i("label",{htmlFor:"firstName",className:"sr-only text-lg",children:[" ","firstName"]}),i("div",{className:"relative",children:[t(b,{className:"w-full rounded-lg border-2 border-black bg-white  p-4 pr-12 text-base text-black shadow-lg",type:"text",name:"firstName",placeholder:"First Name"}),t(g,{className:" text-error mt-1 text-lg",name:"firstName",component:"div"})]})]}),i("div",{children:[i("label",{htmlFor:"userLastName",className:"sr-only text-lg",children:[" ","userLastName"," "]}),i("div",{className:"relative mt-1",children:[t(b,{className:"w-full border-2 border-black  shadow-lg bg-white  rounded-lg p-4 pr-12 text-base",type:"userLastName",name:"userLastName",placeholder:" Last Name "}),t(g,{className:" text-error mt-1 text-lg",name:"userLastName",component:"div"})]})]})]}),i("div",{className:"relative mt-1",children:[t("label",{htmlFor:"userFirstName",className:"sr-only text-lg",children:"Phone Number"}),i("div",{className:"relative",children:[t(b,{className:"w-full rounded-lg  border-2 border-black bg-white  p-4 pr-12  text-base shadow-lg",type:"text",name:"phoneNumber",placeholder:"Phone Number"}),t(g,{className:" text-error mt-1 text-lg",name:"phoneNumber",component:"div"})]})]}),i("div",{className:"relative mt-1",children:[t("label",{htmlFor:"userFirstName",className:"sr-only text-lg",children:"Email"}),i("div",{className:"relative",children:[t(b,{className:"w-full rounded-lg border-2 border-black  shadow-lg  bg-white  p-4 pr-12  text-base ",type:"text",name:"email",placeholder:"Email"}),t(g,{className:" text-error mt-1 text-lg",name:"email",component:"div"})]})]}),t("div",{className:"  grid lg:grid-rows-1  md:grid-cols-2 grid-cols-1 lg:gap-y-[5em] gap-y-[2em] gap-x-5 pb-[1em]",children:i("div",{className:"relative mt-1",children:[i("label",{htmlFor:"userLastName",className:"sr-only text-slate-900  text-lg",children:[" ","Last Name"," "]}),i("div",{className:"relative",children:[t(b,{className:"w-full   bg-white text-slate-900  rounded-lg p-4 pr-12 text-base  border-2 border-black  shadow-lg ",type:"text",name:"userLastName",placeholder:"Phone"}),t(g,{className:"text-lg text-error mt-1",name:"userLastName",component:"div"})]})]})})]})}),t("div",{className:"mt-4",children:t("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-lighter/80 px-4 py-2 text-sm font-medium text-cyan-400 hover:bg-lighter focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:()=>s(),children:"Got it, Edit!"})})]})},J=({marketdata:e})=>{const[a,n]=h.useState(!1),[r,l]=h.useState(!1),s=R(c=>c.removeUser),o=c=>{s(c.id)},d=c=>{console.log("edit user",c.name)};return i("tr",{children:[t("th",{children:t("label",{children:t("input",{type:"checkbox",className:"checkbox checkbox-select",onChange:c=>handleChange(c)})})}),t("td",{children:i("div",{className:"flex items-center space-x-3",children:[t("div",{className:"avatar cursor-pointer",children:t("div",{className:"mask mask-squircle w-16 h-12",children:t("img",{src:e.imageUrl||e.imageUrl,alt:"user avatar",className:"hover:scale-110"})})}),i("div",{children:[t("div",{className:"font-bold",children:e.cropCategory}),t("div",{className:"text-sm opacity-50",children:e.cropName})]})]})}),i("td",{children:[t("span",{className:"text-sm",children:e.planted}),t("br",{}),t("div",{className:"badge bg-accent/50 badge-sm p-3 mt-2",children:t("span",{className:"text-primary-t",children:e.datePlanted})})]}),t("td",{children:e.harvestDate}),i("td",{children:["NGN",e.cropPrice]}),i("th",{children:[t(V,{element:t("div",{className:"btn btn-ghost btn-xs cursor-pointer",children:t("span",{className:"text-xs font-bold",children:t(_,{size:20})})}),onEditClick:()=>l(!0),onDeleteClick:()=>n(!0)}),t(G,{marketdata:e,openNow:a,onClose:()=>n(!1),onDelete:c=>o(c)}),t(H,{marketdata:e,openNow:r,onClose:()=>l(!1),onEdit:c=>d(c)})]})]})},Y=({headers:e,items:a,MarketData:n})=>{const[r,l]=h.useState(!1),[s,o]=h.useState("");let d=h.useRef();const c=f=>{d=f;const p=d.current.checked;l(p)};return h.useMemo(()=>{const f=document.querySelectorAll(".checkbox-select");r?f.forEach(p=>{p.checked=!0}):f.forEach(p=>{p.checked=!1})},[r]),i("div",{children:[t("div",{className:"flex justify-between items-center",children:t(Z,{placeholder:"Search...",onSearch:f=>{o(f)}})}),t("div",{className:"overflow-x-auto w-full overflow-hidden",children:i("table",{className:"table w-full",children:[t(B,{header:!0,headers:e,handleCheckbox:c}),t("tbody",{children:(()=>s.trim()?a.data.filter(p=>Object.keys(p).some(E=>typeof p[E]=="string"?p[E].toLowerCase().includes(s):!1)):a.data)().map((f,p)=>n&&t(J,{marketdata:f},p))}),t("tfoot",{children:i("tr",{children:[t("th",{}),t("th",{})]})})]})})]})};export{Y as T};
